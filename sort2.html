<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="content-language"content="en">
<meta property="og:locale"content="en_US">
<meta http-equiv="content-type"content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible"content="IE=edge">
<meta name="viewport"content="width=device-width, initial-scale=1, user-scalable=yes">
<meta name="description"content="YOUR DESC HERE">
<meta property="og:image:width"content="IMAGE WIDTH HERE">
<meta property="og:image:height"content="IMAGE HEIGHT HERE">
<meta property="og:image:type"content="image/*">
<meta property="og:type"content="website">
<meta property="og:image"content="YOUR IMAGE HERE">
<meta property="og:url"content="ABSOLUTE URL HERE">
<meta property="og:description"content="YOUR DESC HERE">
<meta property="og:title"content="YOUR TITLE HERE">
<meta property="og:site_name"content="YOUR TITLE HERE">
<meta name="twitter:title"content="YOUR TITLE HERE">
<meta name="application-name"content="YOUR TITLE HERE">
<meta name="application-url"content="ABSOLUTE URL HERE">
<meta name="twitter:url"content="ABSOLUTE URL HERE">
<meta name="web_author"content="addsoupbase">
<meta name="twitter:creator"content="@addsoupbase">
<meta name="twitter:site"content="@addsoupbase">
<meta name="twitter:creator:id"content="1799269566834454528">
<meta name="twitter:site:id"content="1799269566834454528">
<meta name="creator"content="addsoupbase">
<meta name="designer"content="addsoupbase">
<meta name="twitter:image"content="YOUR IMAGE HERE">
<meta name="twitter:image:width"content="IMAGE WIDTH HERE">
<meta name="twitter:image:height"content="IMAGE HEIGHT HERE">
<meta name="msapplication-navbutton-color"content="YOUR COLOR HERE">
<meta name="msapplication-TileColor"content="YOUR COLOR HERE">
<meta name="msapplication-square150x150logo"content="./apple-touch-icon-152x152.png">
<meta name="msapplication-square310x310logo"content="./apple-touch-icon-180x180.png">
<meta name="msapplication-square70x70logo"content="./apple-touch-icon-72x72.png">
<meta name="msapplication-wide310x150logo"content="./apple-touch-icon-180x180.png">
<meta name="msapplication-TileImage"content="./apple-touch-icon-180x180.png">
<meta name="msapplication-starturl"content="ABSOLUTE URL HERE">
<meta name="origin"content="ABSOLUTE URL HERE">
<meta name="msapplication-tooltip"content="YOUR TITLE HERE">
<meta name="prism:alternateTitle"content="YOUR TITLE HERE">
<meta name="twitter:card"content="summary_large_image">
<meta name="thumbnail"content="YOUR IMAGE HERE">
<meta property="profile:username"content="addsoupbase">
<!--summary_large_image,summary,app,or player -->
<link rel="icon"type="image/x-icon"href="favicon.ico">
<link rel="shortcut icon" href="favicon.ico">
<meta name="robots"content="index">
<meta name="theme-color"content="YOUR COLOR HERE">
<meta name="apple-mobile-web-app-status-bar-style"content="black">
<meta name="author"content="addsoupbase">
<link rel="canonical"href="ABSOLUTE URL HERE">
<script type="application/ld+json">{"@context":"https://schema.org","@type": "WebSite","name":"addsoupbase","url":"ABSOLUTE URL HERE","description":"YOUR DESC HERE","author":{"@type": "Person","name":"addsoupbase","sameAs":["https://twitter.com/addsoupbase"]},"mainEntityOfPage":{"@type":"WebPage","@id":"ABSOLUTE URL HERE"},"image":{"@type":"ImageObject","url":"YOUR IMAGE HERE","width":IMAGE WIDTH HERE,"height":IMAGE HEIGHT HERE}}</script>
<link rel="apple-touch-icon"sizes="57x57"href="./apple-touch-icon-57x57.png">
<link rel="apple-touch-icon"sizes="60x60"href="./apple-touch-icon-60x60.png">
<link rel="apple-touch-icon"sizes="72x72"href="./apple-touch-icon-72x72.png">
<link rel="apple-touch-icon"sizes="76x76"href="./apple-touch-icon-76x76.png">
<link rel="apple-touch-icon"sizes="114x114"href="./apple-touch-icon-114x114.png">
<link rel="apple-touch-icon"sizes="120x120"href="./apple-touch-icon-120x120.png">
<link rel="apple-touch-icon"sizes="144x144"href="./apple-touch-icon-144x144.png">
<link rel="apple-touch-icon"sizes="152x152"href="./apple-touch-icon-152x152.png">
<link rel="apple-touch-icon"sizes="180x180"href="./apple-touch-icon-180x180.png">
<meta name="mobile-web-app-capable"content="no">
<meta name="apple-mobile-web-app-capable"content="no">
<!--^ yes if the site has stuff like back buttons-->
<meta name="apple-mobile-web-app-title"content="YOUR TITLE HERE">
<link rel="apple-touch-startup-image"href="favicon.ico">
<script src="css.js" blocking="render"></script><script src="css_bad.js" nomodule></script>
<link rel="stylesheet"href="styles.css">
<title>YOUR TITLE HERE</title>
<!--https://wiki.whatwg.org/wiki/MetaExtensions-->
<!--[if IE]><script>alert('Please update your browser')</script><![endif]-->
<noscript> <!-- <a href='REDIRECT HERE'>Click if you are not redirected</a><style>body{display:none !important}</style><meta content='0;url=REDIRECT HERE' http-equiv='refresh'> --> </noscript>
</head>
<body>
	<button id="go">Start</button>
	<p id="load" hidden>Loading...</p>
	<script type="module">
		import*as h from '../handle.js'
		import $ from '../yay.js'
		import f, {parse_data} from './sortimage/pkg/sortimage.js'
		import emojis from 
		// 'data:application/json,["1252639690767597719.gif"]' 
		'./emojis.json'
		with {type:"json"}
		let sources = []
		let data = []
		await Promise.all([$.id.go.until('click'),f()])
		await Promise.all(emojis	.map(map))
		$.id.load.show()
		async function map(src) {
			let n = new Image
			let out = h.until(n,'load')
			n.src = `./emojis/${src}`
			while(!n.complete) {
			await out
			}
			let {width,height} = n
			let c = new OffscreenCanvas(width, height)
			let ctx = c.getContext('2d')
			ctx.drawImage(n, width, height)
			data.push(ctx.getImageData(0,0,width,height).data)
			sources.push(src)
		}
		let d = parse_data(sources,data)
		console.log(d)
		console.assert(d.length===emojis.length, "Some images were not loaded")
		h.download(new Blob(JSON.stringify(d).split()), 'emojis.json')
	</script>
</body>
</html>
